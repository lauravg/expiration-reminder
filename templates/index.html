{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}
{% if show_alert %}
{% endif %}

<div class="content">
    <h1>Product list</h1>
    {% if products|length < 1 %} <h4>There are no products. Create one below!</h4>
        {% else %}
        <table border="1">
            <tr>
                <th>Name</th>
                <th>Expiration Date</th>
                <th>Creation Date</th>
                <th>Status</th>
            </tr>
            {% for product in products %}
            <tr>
                <td class="product-name">{{ product.product_name }}</td>
                <td class="expiration-date">{{ product.expiration_date }}</td>
                <td class="creation-date">{{ product.date_created.strftime('%Y-%m-%d') }}</td>
                <td class="wasted-status" data-product-id="{{ product.id }}"></td>
                <td>
                    <a href="/update_product/{{product.id}}">Update</a>
                    <br>
                    <a href="/delete_product/{{product.id}}">Delete</a>
                    <br>
                    <a href="/waste_product/{{product.id}}">Waste Product</a>
                </td>
            </tr>
            {% endfor %}
        </table>
        {% endif %}
        <a href="/wasted_product_list">Wasted Products</a>

        <form action="/" method="POST" id="myForm">
            <input type="text" name="product-name" id="input-product-name">
            <input type="date" name="expiration-date" id="input-expiration-date" value="{{ current_date }}">
            <button type="submit" id="submit-button">Submit</button>
        </form>
</div>
{% endblock %}